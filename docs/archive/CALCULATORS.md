# 🧮 健康计算器页面完整列表

所有 8 个健康计算器页面均已完成开发，支持**访客模式**（无需登录即可使用）。

## ✅ 已实现的计算器页面

### 1. BMI 计算器 📊
- **路径**: `/calculators/bmi`
- **功能**: 计算身体质量指数
- **输入**: 性别、身高、体重
- **输出**: BMI 值、健康评估、建议

### 2. BMR 计算器 🔥
- **路径**: `/calculators/bmr`
- **功能**: 计算基础代谢率
- **输入**: 性别、年龄、身高、体重、活动水平
- **输出**: BMR、TDEE（每日总消耗）、健康建议

### 3. 体脂率计算器 💪
- **路径**: `/calculators/body-fat`
- **功能**: 估算体脂百分比
- **输入**: 性别、年龄、身高、体重、腰围、臀围
- **输出**: 体脂率、健康评估、参考范围

### 4. 腰臀比计算器 📏
- **路径**: `/calculators/waist-hip`
- **功能**: 评估脂肪分布
- **输入**: 性别、腰围、臀围
- **输出**: 腰臀比、健康风险评估

### 5. 血压评估 ❤️
- **路径**: `/calculators/blood-pressure`
- **功能**: 评估心血管健康
- **输入**: 收缩压、舒张压
- **输出**: 血压分类、健康建议

### 6. 目标心率计算器 💓
- **路径**: `/calculators/target-heart-rate`
- **功能**: 计算运动心率区间
- **输入**: 年龄
- **输出**: 最大心率、热身区、燃脂区、有氧区

### 7. 心脏负荷指数 (SLI) 🏃
- **路径**: `/calculators/sli`
- **功能**: 评估运动心脏负荷
- **输入**: 年龄、运动后心率、安静心率、运动时间
- **输出**: SLI 指数、心脏功能评估

### 8. 卡路里需求计算器 🍽️
- **路径**: `/calculators/calorie`
- **功能**: 计算每日卡路里需求
- **输入**: 性别、年龄、身高、体重、活动水平
- **输出**: 维持体重、减重、增重所需卡路里

## 🎨 页面特性

### 统一的用户体验
所有计算器页面都包含：

1. **响应式设计**
   - 移动端友好
   - 桌面端两栏布局（表单 + 结果）

2. **访客模式支持**
   - ✅ 无需登录即可使用
   - 💡 智能提示：未登录用户看到"登录后可保存历史"
   - ✅ 已登录用户自动保存记录

3. **友好的表单**
   - 清晰的标签和说明
   - 输入验证
   - 占位符示例
   - 帮助提示

4. **丰富的结果展示**
   - 大字体突出显示关键指标
   - 彩色视觉区分（绿色/黄色/红色）
   - 详细的健康建议
   - 参考范围和标准

5. **错误处理**
   - 输入验证错误提示
   - 网络错误友好提示
   - 加载状态显示

## 📱 页面布局结构

```
┌─────────────────────────────────────────┐
│           Header (导航栏)                │
├─────────────────────────────────────────┤
│           页面标题和描述                  │
├──────────────────┬──────────────────────┤
│                  │                      │
│   表单卡片        │    结果卡片           │
│   - 输入字段      │    - 访客提示         │
│   - 帮助提示      │    - 计算结果         │
│   - 计算按钮      │    - 健康建议         │
│                  │    - 参考范围         │
│                  │                      │
└──────────────────┴──────────────────────┘
```

## 🔗 访问方式

### 从首页访问
1. 访问首页：`http://localhost:3001`
2. 查看"健康计算工具"部分
3. 点击任意计算器卡片

### 从计算器列表访问
1. 访问：`http://localhost:3001/calculators`
2. 浏览所有 8 个计算器
3. 点击进入具体计算器

### 直接访问
直接在浏览器中输入计算器路径，例如：
- `http://localhost:3001/calculators/bmi`
- `http://localhost:3001/calculators/bmr`
- 等等...

## 🎯 使用流程

### 访客用户
```
访问计算器页面
    ↓
看到顶部提示"无需登录"
    ↓
填写表单
    ↓
点击"计算"按钮
    ↓
立即获得结果
    ↓
看到提示"登录后可保存历史"
    ↓
(可选) 点击链接注册/登录
```

### 已登录用户
```
访问计算器页面
    ↓
填写表单
    ↓
点击"计算"按钮
    ↓
获得结果
    ↓
✅ 自动保存到历史记录
    ↓
可在"历史记录"页面查看
```

## 🎨 颜色和视觉设计

### 状态提示颜色
- 🟡 **黄色** (yellow-50/200): 访客模式提示
- 🟢 **绿色** (green-50/200): 已保存成功、理想状态
- 🔵 **蓝色** (blue-50/200): 信息提示、正常状态
- 🟠 **橙色** (orange-50/200): 警告、中度风险
- 🔴 **红色** (red-50/200): 错误、高风险

### 主题色
- **Primary**: 蓝色系 (#2563eb)
- **背景**: 灰色 50 (#f9fafb)
- **卡片**: 白色 (#ffffff)

## 📊 数据保存

### 访客模式
- ❌ 不保存任何数据
- ✅ 立即显示计算结果
- ✅ 完整的健康建议

### 登录模式
- ✅ 自动保存到数据库
- ✅ 关联到用户账户
- ✅ 可在历史记录页面查看
- ✅ 支持趋势分析（未来功能）

## 🛠️ 技术实现

### 前端
- **框架**: Next.js 14 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS
- **状态管理**: React useState
- **表单处理**: 原生 HTML + React

### 后端 API
- **路径**: `/api/calculators/*`
- **方法**: POST
- **认证**: 可选（支持访客模式）
- **响应**: JSON 格式

### 数据库
- **ORM**: Prisma
- **数据库**: PostgreSQL (Supabase)
- **表**: 每个计算器一个独立的记录表

## 🚀 未来增强

### 计划中的功能
- [ ] 计算历史图表可视化
- [ ] 导出 PDF 报告
- [ ] 多语言支持
- [ ] 社交分享
- [ ] 健康目标跟踪
- [ ] AI 健康建议
- [ ] 与可穿戴设备集成

### 可选增强
- [ ] 语音输入
- [ ] 图片识别（自动测量）
- [ ] 健康提醒推送
- [ ] 社区论坛
- [ ] 专家咨询

## 📝 开发者注意事项

### 添加新计算器
如果需要添加新的计算器，请遵循以下步骤：

1. **创建 API 路由**: `src/app/api/calculators/[name]/route.ts`
2. **添加计算逻辑**: `src/lib/calculators.ts`
3. **添加验证规则**: `src/lib/validators.ts`
4. **创建数据库模型**: `prisma/schema.prisma`
5. **创建前端页面**: `src/app/calculators/[name]/page.tsx`
6. **更新计算器列表**: `src/app/calculators/page.tsx`
7. **更新首页**: `src/app/page.tsx`

### 页面模板
所有页面都遵循相同的模板结构，参考 `BMI` 或 `BMR` 计算器页面作为模板。

## 🐛 已知问题

目前没有已知的功能性问题。所有页面均已测试并正常工作。

## ✅ 测试清单

- [x] 所有 8 个页面都已创建
- [x] 访客模式正常工作
- [x] 登录用户可保存记录
- [x] 表单验证正常
- [x] 错误处理完善
- [x] 响应式设计
- [x] 无 TypeScript 错误
- [x] 无 Linter 错误

---

**创建日期**: 2024-11-07  
**版本**: v1.2.0  
**状态**: ✅ 完成并测试

